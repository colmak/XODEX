[gd_scene load_steps=2 format=3 uid="uid://tdv004mockup"]

[ext_resource type="Script" path="res://scripts/td_v0_00_4_mockup.gd" id="1_mock"]

[node name="TDPrototypeV004" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_mock")

[node name="Background" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.0392157, 0.101961, 0.164706, 1)

[node name="TopBar" type="PanelContainer" parent="."]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 40.0
grow_horizontal = 2

[node name="TopMargin" type="MarginContainer" parent="TopBar"]
layout_mode = 2
theme_override_constants/margin_left = 12
theme_override_constants/margin_top = 6
theme_override_constants/margin_right = 12
theme_override_constants/margin_bottom = 6

[node name="TopHBox" type="HBoxContainer" parent="TopBar/TopMargin"]
layout_mode = 2

[node name="WaveInfoLabel" type="Label" parent="TopBar/TopMargin/TopHBox"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
text = "Wave 1/4 | Enemies: 0/20 | Next: ▲ ●"

[node name="HeatLabel" type="Label" parent="TopBar/TopMargin/TopHBox"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
horizontal_alignment = 1
text = "Heat: 100°C (+0.8/tick)"

[node name="LeaksLabel" type="Label" parent="TopBar/TopMargin/TopHBox"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
horizontal_alignment = 2
text = "Leaks: 0/10"

[node name="BottomPanel" type="PanelContainer" parent="."]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -360.0
grow_horizontal = 2
grow_vertical = 0
modulate = Color(1, 1, 1, 0.8)

[node name="BottomMargin" type="MarginContainer" parent="BottomPanel"]
layout_mode = 2
theme_override_constants/margin_left = 12
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 12
theme_override_constants/margin_bottom = 10

[node name="BottomVBox" type="VBoxContainer" parent="BottomPanel/BottomMargin"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="BottomHeader" type="HBoxContainer" parent="BottomPanel/BottomMargin/BottomVBox"]
layout_mode = 2

[node name="PanelToggleButton" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/BottomHeader"]
unique_name_in_owner = true
layout_mode = 2
custom_minimum_size = Vector2(64, 48)
text = "▼ Towers"

[node name="PlacementHintLabel" type="Label" parent="BottomPanel/BottomMargin/BottomVBox/BottomHeader"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
text = "Drag a tower card onto highlighted spots."
autowrap_mode = 3

[node name="CardsGrid" type="GridContainer" parent="BottomPanel/BottomMargin/BottomVBox"]
unique_name_in_owner = true
layout_mode = 2
columns = 4

[node name="Card01" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/CardsGrid"]
layout_mode = 2
custom_minimum_size = Vector2(0, 52)
text = "△ Triangle"

[node name="Card02" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/CardsGrid"]
layout_mode = 2
custom_minimum_size = Vector2(0, 52)
text = "▢ Square"

[node name="Card03" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/CardsGrid"]
layout_mode = 2
custom_minimum_size = Vector2(0, 52)
text = "▭ Rectangle"

[node name="Card04" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/CardsGrid"]
layout_mode = 2
custom_minimum_size = Vector2(0, 52)
text = "火 Fire"

[node name="Card05" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/CardsGrid"]
layout_mode = 2
custom_minimum_size = Vector2(0, 52)
text = "水 Water"

[node name="Card06" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/CardsGrid"]
layout_mode = 2
custom_minimum_size = Vector2(0, 52)
text = "土 Earth"

[node name="Card07" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/CardsGrid"]
layout_mode = 2
custom_minimum_size = Vector2(0, 52)
text = "风 Air"

[node name="Card08" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/CardsGrid"]
layout_mode = 2
custom_minimum_size = Vector2(0, 52)
text = "Ж Keystone"

[node name="TowerInfoLabel" type="Label" parent="BottomPanel/BottomMargin/BottomVBox"]
unique_name_in_owner = true
layout_mode = 2
text = "Tap a placed tower for info/sell (90% refund)."
autowrap_mode = 3

[node name="ControlsBar" type="HBoxContainer" parent="BottomPanel/BottomMargin/BottomVBox"]
layout_mode = 2

[node name="PauseButton" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/ControlsBar"]
unique_name_in_owner = true
layout_mode = 2
custom_minimum_size = Vector2(72, 48)
text = "Pause"

[node name="SpeedButton" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/ControlsBar"]
unique_name_in_owner = true
layout_mode = 2
custom_minimum_size = Vector2(72, 48)
text = "1x"

[node name="RetryButton" type="Button" parent="BottomPanel/BottomMargin/BottomVBox/ControlsBar"]
unique_name_in_owner = true
layout_mode = 2
custom_minimum_size = Vector2(72, 48)
text = "Retry"

[node name="CollapseTimer" type="Timer" parent="."]
unique_name_in_owner = true
wait_time = 5.0
one_shot = true

[connection signal="pressed" from="BottomPanel/BottomMargin/BottomVBox/BottomHeader/PanelToggleButton" to="." method="_on_panel_toggle_pressed"]
[connection signal="pressed" from="BottomPanel/BottomMargin/BottomVBox/ControlsBar/PauseButton" to="." method="_on_pause_pressed"]
[connection signal="pressed" from="BottomPanel/BottomMargin/BottomVBox/ControlsBar/SpeedButton" to="." method="_on_speed_pressed"]
[connection signal="pressed" from="BottomPanel/BottomMargin/BottomVBox/ControlsBar/RetryButton" to="." method="_on_retry_pressed"]
[connection signal="timeout" from="CollapseTimer" to="." method="_on_collapse_timer_timeout"]
