[gd_scene load_steps=2 format=3 uid="uid://tdv004mockup"]

[ext_resource type="Script" path="res://scripts/td_v0_00_4_mockup.gd" id="1_mock"]

[node name="TDPrototypeV004" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_mock")

[node name="WorldLayer" type="ColorRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0.067, 0.09, 0.137, 1)

[node name="RangeOverlay" type="Control" parent="WorldLayer"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="TopBar" type="PanelContainer" parent="."]
layout_mode = 1
anchors_preset = 10
anchor_right = 1.0
offset_bottom = 94.0
grow_horizontal = 2

[node name="TopBarMargin" type="MarginContainer" parent="TopBar"]
layout_mode = 2
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 10

[node name="TopBarHBox" type="HBoxContainer" parent="TopBar/TopBarMargin"]
layout_mode = 2
theme_override_constants/separation = 24

[node name="VersionLabel" type="Label" parent="TopBar/TopBarMargin/TopBarHBox"]
unique_name_in_owner = true
layout_mode = 2
text = "BURZEN TD v0.00.4.1 Prototype"

[node name="WaveLabel" type="Label" parent="TopBar/TopBarMargin/TopBarHBox"]
unique_name_in_owner = true
layout_mode = 2
text = "Wave 1/8"

[node name="MobBudgetLabel" type="Label" parent="TopBar/TopBarMargin/TopBarHBox"]
unique_name_in_owner = true
layout_mode = 2
text = "Mob Budget: balanced"

[node name="SettingsButton" type="Button" parent="TopBar/TopBarMargin/TopBarHBox"]
unique_name_in_owner = true
layout_mode = 2
text = "Settings"

[node name="RightPanel" type="PanelContainer" parent="."]
layout_mode = 1
anchors_preset = 9
anchor_left = 1.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -390.0
offset_top = 110.0
grow_horizontal = 0
grow_vertical = 2

[node name="RightMargin" type="MarginContainer" parent="RightPanel"]
layout_mode = 2
theme_override_constants/margin_left = 12
theme_override_constants/margin_top = 12
theme_override_constants/margin_right = 12
theme_override_constants/margin_bottom = 12

[node name="RightVBox" type="VBoxContainer" parent="RightPanel/RightMargin"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="TowerMenuHeader" type="Label" parent="RightPanel/RightMargin/RightVBox"]
layout_mode = 2
text = "Tower Selection"

[node name="TowerMenu" type="Tree" parent="RightPanel/RightMargin/RightVBox"]
unique_name_in_owner = true
custom_minimum_size = Vector2(0, 340)
layout_mode = 2
hide_root = true

[node name="SnapToGridCheck" type="CheckBox" parent="RightPanel/RightMargin/RightVBox"]
unique_name_in_owner = true
layout_mode = 2
button_pressed = true
text = "Snap to Grid"

[node name="StatsPanel" type="PanelContainer" parent="RightPanel/RightMargin/RightVBox"]
layout_mode = 2

[node name="StatsMargin" type="MarginContainer" parent="RightPanel/RightMargin/RightVBox/StatsPanel"]
layout_mode = 2
theme_override_constants/margin_left = 8
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 8
theme_override_constants/margin_bottom = 8

[node name="StatsVBox" type="VBoxContainer" parent="RightPanel/RightMargin/RightVBox/StatsPanel/StatsMargin"]
layout_mode = 2
theme_override_constants/separation = 4

[node name="TowerDetailLabel" type="Label" parent="RightPanel/RightMargin/RightVBox/StatsPanel/StatsMargin/StatsVBox"]
unique_name_in_owner = true
layout_mode = 2
text = "Select a tower to view details"
autowrap_mode = 3

[node name="MobOverlayLabel" type="Label" parent="RightPanel/RightMargin/RightVBox/StatsPanel/StatsMargin/StatsVBox"]
unique_name_in_owner = true
layout_mode = 2
text = "Mob Overlay: HP 120 | Armor 14 | Speed 1.0"
autowrap_mode = 3

[node name="SafetyStateLabel" type="Label" parent="RightPanel/RightMargin/RightVBox/StatsPanel/StatsMargin/StatsVBox"]
unique_name_in_owner = true
layout_mode = 2
text = "NESOROX Safety: Stable"

[node name="BottomPanel" type="PanelContainer" parent="."]
layout_mode = 1
anchors_preset = 12
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = -160.0
grow_horizontal = 2
grow_vertical = 0

[node name="BottomMargin" type="MarginContainer" parent="BottomPanel"]
layout_mode = 2
theme_override_constants/margin_left = 16
theme_override_constants/margin_top = 12
theme_override_constants/margin_right = 16
theme_override_constants/margin_bottom = 12

[node name="BottomHBox" type="HBoxContainer" parent="BottomPanel/BottomMargin"]
layout_mode = 2
theme_override_constants/separation = 10

[node name="PlacementHintLabel" type="Label" parent="BottomPanel/BottomMargin/BottomHBox"]
unique_name_in_owner = true
layout_mode = 2
size_flags_horizontal = 3
text = "Click world space to place selected tower. Invalid placements auto-collapse to safe state."
autowrap_mode = 3

[node name="SimulateWaveButton" type="Button" parent="BottomPanel/BottomMargin/BottomHBox"]
unique_name_in_owner = true
layout_mode = 2
text = "Simulate Wave"

[node name="ClearPlacementsButton" type="Button" parent="BottomPanel/BottomMargin/BottomHBox"]
unique_name_in_owner = true
layout_mode = 2
text = "Clear"

[node name="SettingsPopup" type="PopupPanel" parent="."]
unique_name_in_owner = true
initial_position = 1
size = Vector2i(430, 360)

[node name="SettingsMargin" type="MarginContainer" parent="SettingsPopup"]
layout_mode = 2
theme_override_constants/margin_left = 10
theme_override_constants/margin_top = 10
theme_override_constants/margin_right = 10
theme_override_constants/margin_bottom = 10

[node name="SettingsVBox" type="VBoxContainer" parent="SettingsPopup/SettingsMargin"]
layout_mode = 2
theme_override_constants/separation = 8

[node name="GeneralSection" type="VBoxContainer" parent="SettingsPopup/SettingsMargin/SettingsVBox"]
layout_mode = 2

[node name="GeneralTitle" type="Button" parent="SettingsPopup/SettingsMargin/SettingsVBox/GeneralSection"]
text = "▼ General Settings"

[node name="GeneralBody" type="Label" parent="SettingsPopup/SettingsMargin/SettingsVBox/GeneralSection"]
text = "Volume, game speed, HUD toggle."
autowrap_mode = 3

[node name="TowerSection" type="VBoxContainer" parent="SettingsPopup/SettingsMargin/SettingsVBox"]
layout_mode = 2

[node name="TowerTitle" type="Button" parent="SettingsPopup/SettingsMargin/SettingsVBox/TowerSection"]
text = "▶ Tower Settings"

[node name="WaveSection" type="VBoxContainer" parent="SettingsPopup/SettingsMargin/SettingsVBox"]
layout_mode = 2

[node name="WaveTitle" type="Button" parent="SettingsPopup/SettingsMargin/SettingsVBox/WaveSection"]
text = "▶ Wave Settings"

[node name="AdvancedSection" type="VBoxContainer" parent="SettingsPopup/SettingsMargin/SettingsVBox"]
layout_mode = 2

[node name="AdvancedTitle" type="Button" parent="SettingsPopup/SettingsMargin/SettingsVBox/AdvancedSection"]
text = "▶ Advanced Gameplay"

[connection signal="pressed" from="TopBar/TopBarMargin/TopBarHBox/SettingsButton" to="." method="_on_settings_button_pressed"]
[connection signal="item_selected" from="RightPanel/RightMargin/RightVBox/TowerMenu" to="." method="_on_tower_menu_item_selected"]
[connection signal="toggled" from="RightPanel/RightMargin/RightVBox/SnapToGridCheck" to="." method="_on_snap_toggled"]
[connection signal="pressed" from="BottomPanel/BottomMargin/BottomHBox/SimulateWaveButton" to="." method="_on_simulate_wave_pressed"]
[connection signal="pressed" from="BottomPanel/BottomMargin/BottomHBox/ClearPlacementsButton" to="." method="_on_clear_placements_pressed"]
